<h1>Listing sheep</h1>

<table>
  <thead>
    <tr>
      <th>Serial</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @sheep.each do |sheep| %>
      <tr>
        <td><%= sheep.serial %></td>
        <td><%= link_to 'Show', sheep %></td>
        <td><%= link_to 'Edit', edit_sheep_path(sheep) %></td>
        <td><%= link_to 'Destroy', sheep, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

	<div id="map" style="width: 800px; height: 600px"></div>

	<script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
	<script>

		//Her setter man latitude og longitude
		var map = L.map('map').setView([63.6268, 11.5668], 13);
		

		//Dette er for openstreetmap standard layout
		//L.tileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {

		//Denne er for openstreetmap standard layout
		//L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {

		//Denne er for opencyclemap layout (Gir høydekvoter)
		L.tileLayer('http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: '&copy; OpenCycleMap, ' + 'Map data '
			//attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>'
		}).addTo(map);

		var sauIcon = L.icon({
		iconUrl: 'sau_icon_80x57.png',
		iconSize:     [80, 57], // size of the icon
		iconAnchor:   [40, 50], // point of the icon which will correspond to marker's location
		popupAnchor:  [0, -40] // point from which the popup should open relative to the iconAnchor
		});
		
		L.marker([63.6268, 11.5668], {icon: sauIcon}).addTo(map).bindPopup("<b> Sau 1 </b>");
		
		//L.marker([63.6268, 11.5668]).addTo(map)
		//	.bindPopup("<b>Sau 1</b><br /> er her").openPopup();

		L.marker([63.6220, 11.5811]).addTo(map)
			.bindPopup("<b>Sau 2</b><br /> er her");

		L.marker([63.6220, 11.5722]).addTo(map)
			.bindPopup("<b>Sau 3</b><br /> er her");


		var popup = L.popup().setLatLng([63.6290, 11.5668]).setContent("Hvor er dette?").openOn(map);

		var popup = L.popup();
		
		function onMapClick(e) {
			popup
				.setLatLng(e.latlng)
				.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(map);
		}

		map.on('click', onMapClick);

	</script>

<%= link_to 'New Sheep', new_sheep_path %>
